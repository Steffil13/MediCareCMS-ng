<div class="container mt-4">

  <h2 class="mb-4">Lab Bill Details</h2>

  <div *ngIf="loading" class="alert alert-info">
    Loading bill details...
  </div>

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <div *ngIf="!loading && bill">
    <table class="table table-bordered">
      <tbody>
        <tr>
          <th>Bill ID</th>
          <td>{{ bill.labBillId }}</td>
        </tr>
        <tr>
          <th>Bill Number</th>
          <td>{{ bill.labBillNumber }}</td>
        </tr>
        <tr>
          <th>Patient</th>
          <td>{{ bill.patient?.firstName }} {{ bill.patient?.lastName }}</td>
        </tr>
        <tr>
          <th>Doctor</th>
          <td>{{ bill.doctor?.firstName }} {{ bill.doctor?.lastName }}</td>
        </tr>
        <tr>
          <th>Lab Technician</th>
          <td>
            {{ bill.labTechnician?.firstName || 'N/A' }} {{ bill.labTechnician?.lastName || '' }}
          </td>
        </tr>
        <tr>
          <th>Total Amount</th>
          <td>{{ bill.totalAmount | currency }}</td>
        </tr>
        <tr>
          <th>Issued Date</th>
          <td>{{ bill.issuedDate | date:'medium' }}</td>
        </tr>
        <tr>
          <th>Status</th>
          <td>{{ bill.isPaid ? 'Paid' : 'Unpaid' }}</td>
        </tr>
      </tbody>
    </table>

    <div class="d-flex gap-2">
      <button class="btn btn-primary" (click)="printBill()">Print Bill</button>
      <a routerLink="/labdashboard" class="btn btn-secondary">Back to Dashboard</a>
    </div>
  </div>
</div>
