<app-nav></app-nav>

<h2 class="section-title">Prescriptions to Prescribe</h2>

<table 
  class="styled-table"
  *ngIf="!loading && prescribedMedicines.length > 0">
  <thead>
    <tr>
      <th>Prescription ID</th>
      <th>Medicine Name</th>
      <th>Dosage</th>
      <th>Duration</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <ng-container *ngFor="let prescription of prescribedMedicines">
      <tr *ngFor="let pm of prescription.medicines">
        <td>{{ prescription.prescriptionId }}</td>
        <td>{{ pm.medicineName }}</td>
        <td>{{ pm.dosage }}</td>
        <td>{{ pm.duration }}</td>
        <td>
          <button 
            class="btn-light-navy" 
            (click)="onAssign(prescription.prescriptionId)">
            Prescribe
          </button>
        </td>
      </tr>
    </ng-container>
  </tbody>
</table>

<div *ngIf="!loading && prescribedMedicines.length === 0" class="no-data">
  No pending medicines to assign.
</div>

<div *ngIf="error" class="error-text">
  {{ error }}
</div>

<!-- âœ… Back to Dashboard Button -->
<div class="back-btn-container">
  <button class="btn-back" (click)="goBack()">Back to Dashboard</button>
</div>