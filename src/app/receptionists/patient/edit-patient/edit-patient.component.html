<form (ngSubmit)="onSubmit()" #patientForm="ngForm">

  <div class="form-group mb-3">
    <label>First Name</label>
    <input type="text" [(ngModel)]="patient.firstName" name="firstName" required class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label>Last Name</label>
    <input type="text" [(ngModel)]="patient.lastName" name="lastName" required class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label>Gender</label>
    <select [(ngModel)]="patient.gender" name="gender" required class="form-control">
      <option value="" disabled>Select Gender</option>
      <option>Male</option>
      <option>Female</option>
      <option>Other</option>
    </select>
  </div>

  <div class="form-group mb-3">
    <label>Date of Birth</label>
    <input type="date" [(ngModel)]="patient.dob" name="dateOfBirth" required class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label>Phone</label>
    <input type="tel" [(ngModel)]="patient.contact" name="phone" required pattern="[0-9]{10}" class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label>Emergency Number</label>
    <input type="tel" [(ngModel)]="patient.emergencyNumber" name="emergencyNumber" required pattern="[0-9]{10}" class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label>Email</label>
    <input type="email" [(ngModel)]="patient.email" name="email" class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label>Address</label>
    <textarea [(ngModel)]="patient.address" name="address" class="form-control"></textarea>
  </div>

  <div class="form-group mb-3">
    <label>Blood Group</label>
    <select [(ngModel)]="patient.bloodGroup" name="bloodGroup" required class="form-control">
      <option value="" disabled>Select Blood Group</option>
      <option>A+</option>
      <option>A-</option>
      <option>B+</option>
      <option>B-</option>
      <option>AB+</option>
      <option>AB-</option>
      <option>O+</option>
      <option>O-</option>
    </select>
  </div>

  <div class="mt-3">
    <button type="submit" [disabled]="patientForm.invalid || isSubmitting" class="btn btn-primary">
      {{ isSubmitting ? 'Updating...' : 'Update Patient' }}
    </button>
    <a routerLink="/receptionists/patients" class="btn btn-secondary ms-2">Cancel</a>
  </div>

  <div class="mt-3 text-success" *ngIf="successMessage">{{ successMessage }}</div>
  <div class="mt-3 text-danger" *ngIf="errorMessage">{{ errorMessage }}</div>

</form>
